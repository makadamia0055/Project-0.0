<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="../component/bootstrap4/bootstrap.min.css">
	<script src="../component/bootstrap4/jquery.js"></script>
	<script src="../component/bootstrap4/popper.min.js"></script>
	<script src="../component/bootstrap4/boostrap.bundle.min.js"></script>
	<link rel="stylesheet" href="../style.css" />
	<link rel="stylesheet" href="./team_common.css">
	<style>
		.bsPark{
			position: relative;
			display: inline-block;
			width: 1000px; height: 600px;
			border-radius: 5px;
			background-image: url(./baseballpark.jpg);
			background-size: 1000px 600px;
		}
		/* .bench{
			position: absolute;
			bottom:0px;
			width: 0;
			height:0;
			border-bottom: 100px solid lightgray;
			border-top: 150px solid transparent;
			border-left: 200px solid lightgray;
			border-right: 200px solid transparent;
		} */

		.container-bsPark{
			width: 1400px;
			
		}
		.right-panel{
			float: right;
		}
		.right-panel .container-line_up{
			padding : 5px;
			border-top: 3px double #dee2e6;
		}


		.box-player{
			border: 1px solid black;
			background-color: rgb(255, 255, 255);
			border-radius: 5px;
		}
		.box-player.selected{
			background-color: rgb(243, 241, 111);
		}
		.icon-player{
			width: 75px;
			height: 75px;
			border-radius: 32px;
		}
		.table-position{
			table-layout: fixed;
			background-color: rgba(255, 255, 255, 0.8);
			position: absolute;
			display: inline-block;
			border-radius: 5px;
			height: 100px; width: 100px;
		}
		.table-position .name-position{
			text-align: center;
		}
		
		.table-position[data-position="1"]{
			top: 350px;
			left: 450px;
		}
		.table-position[data-position="2"]{
			bottom: -16px;
			left: 450px;
		}
		.table-position[data-position="3"]{
			top: 350px;
			left: 720px;
		}
		.table-position[data-position="4"]{
			top: 200px;
			left: 450px;
		}
		.table-position[data-position="5"]{
			top: 350px;
			right: 720px;
		}
		.table-position[data-position="6"]{
			top: 250px;
			right: 600px;
		}
		.table-position[data-position="7"]{
			top: 100px;
			left: 720px;
		}
		.table-position[data-position="8"]{
			top: 50px;
			left: 450px;
		}
		.table-position[data-position="9"]{
			top: 100px;
			right: 720px;
		}
		.table-position[data-position="10"]{
			top: 0px;
			left: 0px;
		}
		
		col{
			width: 100%;
		}
		.bsPark .reference{
			position: absolute;
			bottom: 0px;
			right : 0px;
		}



		.bench{
			display: inline-block;
			position: absolute;
			bottom: -100px;
			border: 1px solid black;
			border-radius: 5px;
			width: 1000px;
			height: 100px;

		}
		.item-hitOrder{
			border: 1px solid black;
		}
		.table-position .select-position{
			width: 100%;
		}
		.box-name{
			font-weight: 700;
			font-size: 12px;
		}
		.box-name .bakNum-player{
			color: darkblue;
			font-weight: 700;
			font-size: 9px;
		}
		.right-panel tr[data-num="10"]{
			display: none;
		}
		
		
	</style>
</head>
<body>
	<iframe src="../component/topBar.html" class="topBar" frameborder="0"></iframe>

    <aside class="team-sidebar sidebar">
			<div>ㅇㅇ팀 라인업</div>
			<div>0월0일 vs xx팀</div>
			
			
			<div>선수 리스트</div>
			<div class="d-flex flex-wrap">
				<a href="#" class="box-player" draggable="true" data-plnum="1">
					<img src="./고양이 로고.png" draggable="false" class="icon-player " alt="">
					<br>
					<div class="box-name">
						<span class="bakNum-player">11</span>.
						<span class="name-player">선수이름1</span>
					</div>
					<div class="box-position_hope">
						<span class="badge badge-pill badge-danger">투</span>
					</div>
				</a>
				<a href="#" class="box-player" draggable="true" data-plnum="2">
					<img src="./고양이 로고.png" draggable="false" class="icon-player " alt="">
					<br>
					<div class="box-name">
						<span class="bakNum-player">22</span>.
						<span class="name-player">선수이름2</span>
					</div>
					<div class="box-position_hope">
						<span class="badge badge-pill badge-danger">투</span>
					</div>
				</a>
				<a href="#" class="box-player" draggable="true" data-plnum="3">
					<img src="./고양이 로고.png" draggable="false" class="icon-player " alt="">
					<br>
					<div class="box-name">
						<span class="bakNum-player">33</span>.
						<span class="name-player">선수이름3</span>
					</div>
					<div class="box-position_hope">
						<span class="badge badge-pill badge-danger">투</span>
					</div>
				</a>
				
				
				

				
			</div>

			<div>용병리스트</div>
			<div>지난 경기 리스트 불러오기</div>

		</aside>
	<section>
		<div class="container-bsPark">
			<div class="bsPark">
				<div class="">
					<div class="table-position" data-position="1">
						<div class="name-position" draggable="false" data-position="1">투수</div>
						<div class="content-position" draggable="false" data-position="1">
							<select name="" class="select-position" id="position1">
								<option class="defaultN" value="0">-선수-</option>
								<option value="1">1번 누구</option>
							</select>
							<label for="order-hit1">타순 : </label>
							<select name="" class="form-control-inline select-hitorder" id="order-hit1">
								<option class="defaultN" value="0">--</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
	
							</select>

						</div>
					</div>
					<div class="table-position" data-position="2">
						<div class="name-position" draggable="false" data-position="2">포수</div>
						<div class="content-position" draggable="false" data-position="2"></div>
						<select name="" class="select-position" id="position2">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit2">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit2">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="3">
						<div class="name-position" draggable="false" data-position="3">1루수</div>
						<div class="content-position" draggable="false" data-position="3"></div>
						<select name="" class="select-position" id="position3">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit3">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit3">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="4">
						<div class="name-position" draggable="false" data-position="4">2루수</div>
						<div class="content-position" draggable="false" data-position="4"></div>
						<select name="" class="select-position" id="position4">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit4">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit4">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="5">
						<div class="name-position" draggable="false" data-position="5">3루수</div>
						<div class="content-position" draggable="false" data-position="5"></div>
						<select name="" class="select-position" id="position5">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit5">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit5">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="6">
						<div class="name-position" draggable="false" data-position="6">유격수</div>
						<div class="content-position" draggable="false" data-position="6"></div>
						<select name="" class="select-position" id="position6">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit6">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit6">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="7">
						<div class="name-position" draggable="false" data-position="7">우익수</div>
						<div class="content-position" draggable="false" data-position="7"></div>
						<select name="" class="select-position" id="position7">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit7">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit7">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="8">
						<div class="name-position" draggable="false" data-position="8">중견수</div>
						<div class="content-position" draggable="false" data-position="8"></div>
						<select name="" class="select-position" id="position8">
							<option class="defaultN" value="0">-선수-</option>
							<option value="1">1번 누구</option>
						</select>
						<label for="order-hit8">타순 : </label>
						<select name="" class="form-control-inline select-hitorder" id="order-hit8">
							<option class="defaultN" value="0">--</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>

						</select>
					</div>
					<div class="table-position" data-position="9">
						<div class="name-position" draggable="false" data-position="9">좌익수</div>
						<div class="content-position" draggable="false" data-position="9"></div>
						<select name="" class="select-position" id="position9">
								<option class="defaultN" value="0">-선수-</option>
								<option value="1">1번 누구</option>
							</select>
							<label for="order-hit9">타순 : </label>
							<select name="" class="form-control-inline select-hitorder" id="order-hit9">
								<option class="defaultN" value="0">--</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
	
							</select>
					</div>
					<div class="table-position" data-position="10" >
						<div class="name-position form-check-inline" data-position="10" draggable="false">
							<label class="form-check-label">
								<input type="checkbox" class="form-check-input checkbox-DH" value="true">지명타자
							</label>
						</div>
						<div class="content-position" draggable="false" data-position="10">
							<select class="select-position" id="position10">
								<option class="defaultN" value="0">-선수-</option>
								<option value="1">1번 누구</option>
							</select>
							<label for="order-hit10">타순 : </label>
							<select class="form-control-inline select-hitorder" id="order-hit10">
								<option class="defaultN" value="0">--</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
	
							</select>
						</div>
					</div>

				</div>
				<div class="bench">
					<div class="title-bench">벤치 <button class="btn btn-sm btn-dark btn-bench-append">추가</button>
					<div class="d-flex content-bench"></div>	
					</div>
					


				</div>
				<a class="reference" href="https://kr.freepik.com/free-vector/baseball-field-isometric-composition_23505339.htm#query=%EC%95%BC%EA%B5%AC%EC%9E%A5&position=1&from_view=keyword&track=robertav1_2_sidr">구장 이미지 By 작가 macrovector</a> 출처 Freepik

			</div>
			<div class="right-panel">
				<div class="container-line_up text-center">
					<span class="">선발 라인업 <button class="btn btn-success btn-sm btn-scan">새로고침</button></span>
					<table class="table" id="lineupTable">
						<thead>
							<tr>
								<th>타순</th>
								<th>등번호</th>
								<th>선수</th>
								<th>포지션</th>
							</tr>
							<tr data-num="1">
								<td class="num-battingOrd">1</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="2">
								<td class="num-battingOrd">2</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="3">
								<td class="num-battingOrd">3</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="4">
								<td class="num-battingOrd">4</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="5">
								<td class="num-battingOrd">5</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="6">
								<td class="num-battingOrd">6</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="7">
								<td class="num-battingOrd">7</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="8">
								<td class="num-battingOrd">8</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="9">
								<td class="num-battingOrd">9</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="10">
								<td class="num-battingOrd">P</td>
								<td class="bakNum-player"></td>
								<td class="name-player"></td>
								<td class="name-position"></td>
							</tr>
							<tr data-num="11">
								<td class="num-battingOrd">벤치</td>
								<td class="benchMem" colspan="3">
									

								</td>
							</tr>
						</thead>
					</table>



					<!-- <ul class="right-line_up">
						<li class="form-group item-hitOrder">
							<span>투수</span>
							<span class="name-player">김용명</span>
							<label for="order-hit1">타순 : </label>
							<select class="form-control-inline select-hitorder" id="order-hit1">
								<option class="defaultN" value="0">--</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
	
							</select>
						</li>
						<li class="form-group item-hitOrder">
							<span>포수</span>

								<span class="name-player">김용명</span>
								<label for="order-hit1">타순 : </label>
								<select name="" class="form-control-inline select-hitorder" id="order-hit2">
									<option class="defaultN" value="0">--</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
		
								</select>
								<select class="form-control-inline select-hitorder" id="order-hit1">
									<option class="defaultN" value="0">--</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
		
								</select>
						
						</li>
						<li class="form-group item-hitOrder">
							<span>1루수</span>

								<span class="name-player">김용명</span>
								<label for="order-hit1">타순 : </label>
								<select name="" class="form-control-inline select-hitorder" id="order-hit3">
									<option class="defaultN" value="0">--</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
									<option value="6">6</option>
									<option value="7">7</option>
									<option value="8">8</option>
									<option value="9">9</option>
		
								</select>
						
						</li>
						<li><span>2루수</span></li>
						<li><span>3루수</span></li>
						<li><span>유격수</span></li>
						<li><span>우익수</span></li>
						<li><span>중견수</span></li>
						<li><span>좌익수</span></li>
						<li class="line-DH" data-position="10" style="display: none;"><span>지명타자</span></li>
	
					</ul> -->
	
				</div>
	
				 <button type="button" class="btn btn-pill btn-primary">중간 저장</button>
				 <button type="button" class="btn btn-pill btn-primary">초기화</button>
				 <button type="button" class="btn btn-pill btn-primary">제출</button><br>
	
			</div>

		</div>

		
		<form action="POST">
			
		</form>
	</section>

</body>
<script>
	let $playerBox = $('.box-player');
	let $tableTd = $('.table-position');
	let $contentBox = $('.content-position')
	let $btnPlayer = $('.btn-player');
	let $bench = $('.content-bench');
	
	let btnPlayerMove = false;
	let btnOnBtn = false;

	let _ml_ms_num = 1 ;//'${ms_num}';
	let positionMap = new Map();
	positionMap.set(1, "투수"); 
	positionMap.set(2,"포수"); 
	positionMap.set(3,"1루수"); 
	positionMap.set(4,"2루수"); 
	positionMap.set(5,"3루수"); 
	positionMap.set(6,"유격수"); 
	positionMap.set(7,"우익수"); 
	positionMap.set(8,"중견수"); 
	positionMap.set(9,"좌익수"); 
	positionMap.set(10,"지명타자"); 


	let LineUp = {
		line : [],
		benchLine: [],

		add(ml_tp_num){
			this.line.push(LUObj(ml_tp_num));
		},
		delete(ml_tp_num){
			for(let i = 0; i<this.line.length; i++){
				if(this.line[i].ml_tp_num==ml_tp_num){
					this.line.splice(i, 1);
				}
			}
		},
		search(ml_tp_num){
			return this.line.find(el=>el.ml_tp_num==ml_tp_num);
		}, 
		// 설정된 라인업 값을 읽어오는 함수
		scan(){
			this.line = [];
			for(let tmp of $tableTd){
				let ml_tp_num = $(tmp).find('.select-position option:selected').val();
				let ml_battingorder = $(tmp).find('.select-hitorder option:selected').val();
				// 선수 선택 x일때 객체 만들지 않기
				if(ml_tp_num==0)
					continue;
				let ml_type = '선발';
				let ml_po_num = $(tmp).data('position');
				// 배팅 순서 값 없을 때 투수이며, 지명타자 있는 경우인지 체크해서 객체 안만들기
				if(ml_battingorder==0&&ml_po_num!=0&&!$('.checkbox-DH').is(":checked"))
					continue;

				let tmpObj = new LUObj(ml_tp_num, ml_battingorder, ml_type, ml_po_num);
				this.line.push(tmpObj);
			}
		},
		scanBench(){
			benchLine = [];
			for(let tmp of $bench){
				let ml_tp_num = $(tmp).find('.select-position option:selected').val();

				let tmpObj = new LUObj(ml_tp_num);
				tmpObj.ml_type = '벤치';
				this.benchLine.push(tmpObj);
			}
		},
		
		// 설정된 라인업 값을 라인업에 출력하는 함수
		print(){
			// 정규 라인 선수 프린트
			for(let tmp of this.line){
				// 배팅 오더 없는 경우 건너뛰기
				if(tmp.ml_battingorder==0 && tmp.ml_po_num!=1){
					continue;
				}
					
				let hitNum = tmp.ml_battingorder;
				// 투수의 경우 체크
				if($('.checkbox-DH').is(":checked")&&tmp.ml_po_num==1&&tmp.ml_battingorder==0){
					hitNum = 10;
					console.log(hitNum)
				}


				let poNum = tmp.ml_po_num;
				let $tr = $('.container-line_up table tr').filter(function(e){
					if($(this).data('num')==hitNum){
						return this;
					}
				});
				let tmpPlayerBox = $playerBox.filter(function(){
					if($(this).data('plnum')==tmp.ml_tp_num)
						return this;
				});
				let playerN = tmpPlayerBox.find('.name-player').text();
				let playerB = tmpPlayerBox.find('.bakNum-player').text();
				$tr.find('.name-player').text(playerN);
				$tr.find('.bakNum-player').text(playerB);
				$tr.find('.name-position').text(positionMap.get(poNum));
			}
			// 벤치 멤버 프린트
			let benchStr='';
			let benchCol =  $('#lineupTable').find('.benchMem');
			for(let tmp of this.benchLine){
				let tmpPlayerBox = $playerBox.filter(function(){
					if($(this).data('plnum')==tmp.ml_tp_num)
					return this;
				});
				let playerB = tmpPlayerBox.find('.bakNum-player').text();
			
				benchStr += '<span class="badge badge-pill badge-success">'+playerB+'</span>';
			}
			
			benchCol.append(benchStr);
			
		}
	}
	function LUObj(ml_tp_num){
		this.ml_ms_num = _ml_ms_num;
		this.ml_tp_num = ml_tp_num;

	}
	function LUObj(ml_tp_num, ml_battingorder, ml_type, ml_po_num){
		this.ml_ms_num = _ml_ms_num;
		this.ml_tp_num = ml_tp_num;
		this.ml_battingorder = ml_battingorder;
		this.ml_type = ml_type;
		this.ml_po_num = ml_po_num;

	}
	function clearBoard(){
		let $td = $('.container-line_up table td');
		for(let tmp of $td){
			$(tmp).not('td.num-battingOrd').empty();
		}
	}
	

	// btn-bench-append
	let benchSeat = 0;
	
	$('.btn-bench-append').on('click', function(e){
		let playerSelector = '<select class="select-position" name="" id="positionBench'+benchSeat+'">'
		+'<option class="defaultN" value="0">-선수-</option>'					
		+'<option value="1">1번 누구</option>'
		+'</select>';
		++benchSeat;
		e.preventDefault();
		$($bench).append(playerSelector);

		$('.select-position').on('change', function(e){
		checkDuplicatePO(this);
		})
	})
checkbox_DH_toggler(true);
function checkbox_DH_toggler(bool){
	if(bool){
		// 지명타자 칸 얼리기
		$('#position10').val(0);
		$('#position10 option').not(':selected').attr('disabled', 'disabled');
		$('#order-hit10').val(0);
		$('#order-hit10 option').not(':selected').attr('disabled', 'disabled');
	}else{
			// 지명타자 칸 해동
			$('#position10 option').not(':selected').removeAttr('disabled');
			$('#order-hit10 option').not(':selected').removeAttr('disabled');
	}
	
}
// 체크박스 이벤트
$('.checkbox-DH').click(function(e){
		if($(this).is(':checked')){
			$('.right-line_up .line-DH').show();
			// 투수칸 타순 얼리기
			$('#order-hit1').val(0);
			$('#order-hit1 option').not(':selected').attr('disabled', 'disabled');
			
			checkbox_DH_toggler(false);
			// 라인업 10열 나오게하기
			$('.right-panel tr[data-num="10"]').show();
		}else{
			$('.right-line_up .line-DH').hide();
			// 투수칸 타순 해동
			$('#order-hit1 option').not(':selected').removeAttr('disabled');
			
			checkbox_DH_toggler(true);
			// 라인업 10열 숨기기
			$('.right-panel tr[data-num="10"]').hide();
		}
	})
	
$('.select-hitorder').on('change', function(e){
	checkDuplicateHO(this);
})
$('.select-position').on('change', function(e){
	checkDuplicatePO(this);
})

function checkDuplicateHO(data){
	let poData = $(data).find(':selected').val();
	let poId = $(data).attr('id');
	let $selectHO =$('.select-hitorder').not(data).find(':selected');
	for(let i of $selectHO){
		if($(i).val()== poData){
			$(i).parent().find('.defaultN').prop('selected', true);
		}
	}
}
function checkDuplicatePO(data){
	let poData = $(data).find(':selected').val();
	let poDataPosition = $(data).data('position');
	let $selectPO =$('.select-position').not(data).find(':selected');
	for(let i of $selectPO){
		if($(i).val()== poData){
			$(i).parent().find('.defaultN').prop('selected', true);
		}
	}	

}
$('.btn-scan').click(function(e){
		LineUp.scan();
		LineUp.scanBench();
		clearBoard();
		LineUp.print();
		console.log(LineUp.line)
	})

	// $playerBox.on("dragstart", function(e){
	// 	e.originalEvent.dataTransfer.setData('text', $(e.target).data("plnum"));
	// 	e.originalEvent.target.classList.add("dragging");
	// })
	// $playerBox.on("dragend", function(e){
	// 	e.originalEvent.target.classList.remove("dragging");
	// })

	
	// $tableTd.on("drop", (e)=>{
	// 	e.preventDefault();
	// 	var data = e.originalEvent.dataTransfer.getData('text')
	// 	putInPlayerBox(data, e);

	// })
	// $tableTd.on("dragover", (e)=>{
	// 	if(btnPlayerMove){
	// 		e.originalEvent.dataTransfer.dropEffect = "move";
	// 	}
	// 	e.preventDefault();
	// })
	// // 벤치 멤버
	// $bench.on("drop", (e)=>{
	// 	e.preventDefault();
	// 	var data = e.originalEvent.dataTransfer.getData('text')
	// 	putInBench(data, e);

	// })
	// $bench.on("dragover", (e)=>{
	// 	if(btnPlayerMove){
	// 		e.originalEvent.dataTransfer.dropEffect = "move";
	// 	}
	// 	e.preventDefault();
	// })
	
// 	// 드래그 버튼 만들어주는 팩토리 매서드
// 	function playerBoxFactorymethod(plNum){
// 		let str = '<button class="btn btn-sm btn-primary btn-player" draggable="true" data-plnum="'+ plNum+ '">';
// 		let playerName;
// 		for(let i of $playerBox) {
// 			if($(i).data('plnum')==plNum){
// 				playerName = $(i).find('.name-player').text(); 
// 			}
// 		}
// 		str += playerName + '</button>';
// 		return str;
// 	}

// // 드래그 버튼 넣어주는 매서드
// 	function putInPlayerBox(data, e){
// 		// for(let i of playerBox) {
// 		// 	if($(i).data('plnum')==data){
// 		// 		if($(i).hasClass('selected')){
// 		// 			// 중복 선택시 다른 곳에서 지워주기 메소드 삽입
// 					clearPlayerBox(data);
// 		// 		}
// 		// 	}
// 		// }
// 		let str = playerBoxFactorymethod(data);
// 		let $position = $(e.target).data('position');
// 		for(let j of $contentBox){
// 			if($(j).data('position')==$position){
// 				$(j).html(str);
// 			}
// 		}
// 		$btnPlayer = $('.btn-player');
		
// 		$btnPlayer.on("dragstart", (e)=>{
// 		e.originalEvent.dataTransfer.setData("text", $(e.target).data('plnum'))
// 		// e.originalEvent.dataTransfer.effectAllowed ="move";
// 		btnPlayerMove = true;
// 		})
// 		$btnPlayer.on("dragend", (e)=>{
// 			let data = e.originalEvent.dataTransfer.getData('text');
// 			if(!btnOnBtn){
// 				clearPlayerBox(data);
// 			}
// 			e.originalEvent.dataTransfer.clearData('text');
// 		})

// 		// 벤치에 넣어주는 메소드
// 		function putInBench(data, e){
		
// 					clearPlayerBox(data);
		
// 		let str = playerBoxFactorymethod(data);
// 		let plnum1 = e.originalEvent.dataTransfer.getData('text')
// 		for(let j of $bench.children()){
// 			if($(j).data('plnum')==plnum1){
// 				return;
// 			}
// 		}
// 		$btnPlayer = $('.bench .btn-player');
		
// 		$btnPlayer.on("dragstart", (e)=>{
// 		e.originalEvent.dataTransfer.setData("text", $(e.target).data('plnum'))
// 		// e.originalEvent.dataTransfer.effectAllowed ="move";
// 		btnPlayerMove = true;
// 		})
// 		$btnPlayer.on("dragend", (e)=>{
// 			let data = e.originalEvent.dataTransfer.getData('text');
// 			if(!btnOnBtn){
// 				clearPlayerBox(data);
// 			}
// 			e.originalEvent.dataTransfer.clearData('text');
// 		})
// 	}


		
// 		$btnPlayer.on("drop", (e)=>{
			
// 			if(btnPlayerMove){
// 				e.stopPropagation();
// 				btnOnBtn = true;
// 				let plnum1 = e.originalEvent.dataTransfer.getData('text');
// 				let plnum2 = $(e.originalEvent.target).data("plnum");
// 				swapBtnPlayer(plnum1, plnum2);
				
// 			}
// 			putInBench(e.originalEvent.dataTransfer.getData('text'), e);
			
// 		})
// 	}
// 	function swapBtnPlayer(plnum1, plnum2){
// 		if(plnum1== plnum2){
// 			return;
// 		}
// 		$btnPlayer = $('.btn-player');
// 		let btn1, btn2;
// 		for (let item of btnPlayer) {
// 			if($(item).data('plnum')==plnum1){
// 				btn1 = item;
// 			}
// 		}
// 		for (let item of btnPlayer) {
// 			if($(item).data('plnum')==plnum2){
// 				btn2 = item;
// 			}
// 		}
		
// 		$(btn2).parent().append($(btn1).clone());
// 		$(btn1).parent().append($(btn2).clone());
// 		$(btn1).remove();
// 		$(btn2).remove();
// 	}

// 	// 현재 입력된 드래그 버튼 plnum인수로 받아 지워주는 매서드
// 	function clearPlayerBox(data){
// 		for(let j of $contentBox){
// 			let btn =  $(j).find('.btn');
// 			if(btn.data('plnum')==data){
// 				$(j).html('');
// 			}
// 	}
// }
// 	$btnPlayer.on("dragstart", (e)=>{
// 		e.originalEvent.dataTransfer.setData("text", $(e.target).data('plnum'))
// 		// e.originalEvent.dataTransfer.effectAllowed ="move";
// 		btnPlayerMove = true;
// 	})
// 	$btnPlayer.on("dragend", (e)=>{
// 		let data = e.originalEvent.dataTransfer.getData('text');
// 		clearPlayerBox(data);
// 	})

	
	
</script>
</html>